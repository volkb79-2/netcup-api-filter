# UI Requirements Specification

**Version:** 1.0  
**Last Updated:** 2025-11-30  
**Status:** Draft for Review

---

## Table of Contents

1. [Design System Foundation](#1-design-system-foundation)
2. [Navigation & Layout](#2-navigation--layout)
3. [Admin Portal Pages](#3-admin-portal-pages)
4. [Client Portal Pages](#4-client-portal-pages)
5. [Shared Components](#5-shared-components)
6. [API Endpoints Required](#6-api-endpoints-required)
7. [Database Schema Additions](#7-database-schema-additions)
8. [Third-Party Integrations](#8-third-party-integrations)
9. [Implementation Phases](#9-implementation-phases)

---

## 1. Design System Foundation

### 1.1 Color Palette (Dark Blue-Black Theme)

```css
/* Primary Colors */
--color-bg-primary: #0a0e1a;      /* Deepest background */
--color-bg-secondary: #111827;    /* Card backgrounds */
--color-bg-elevated: #1a2234;     /* Elevated elements */
--color-bg-surface: rgba(26, 34, 52, 0.8);

/* Accent Colors */
--color-accent: #3b82f6;          /* Primary blue */
--color-accent-hover: #2563eb;    /* Hover state */

/* Status Colors */
--color-success: #10b981;         /* Green */
--color-warning: #f59e0b;         /* Amber */
--color-danger: #ef4444;          /* Red */
--color-info: #06b6d4;            /* Cyan */

/* Text Colors */
--color-text-primary: #f3f4f6;
--color-text-secondary: #9ca3af;
--color-text-muted: #6b7280;
```

### 1.2 Typography

| Element | Font | Size | Weight |
|---------|------|------|--------|
| H1 | System/Inter | 2rem | 600 |
| H2 | System/Inter | 1.5rem | 600 |
| H3 | System/Inter | 1.25rem | 600 |
| Body | System/Inter | 1rem | 400 |
| Monospace | JetBrains Mono/Consolas | 0.875rem | 400 |

**Monospace Fields:** Client ID, Realm Value, IP Ranges, Email Address, Tokens

### 1.3 Spacing Scale

```
xs: 0.5rem (8px)
sm: 0.75rem (12px)
md: 1rem (16px)
lg: 1.5rem (24px)
xl: 2rem (32px)
2xl: 3rem (48px)
```

### 1.4 Border Radius

```
sm: 0.375rem (6px)  - Buttons, inputs
md: 0.5rem (8px)    - Cards
lg: 0.75rem (12px)  - Modals
xl: 1rem (16px)     - Large panels
```

---

## 2. Navigation & Layout

### 2.1 Top Navbar (Admin)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Logo] Netcup API Filter â”‚ Dashboard â”‚ Clients â”‚ Audit Logs â”‚ Netcup API â”‚ Email â”‚ System â”‚     admin â–¼ â”‚ Logout â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                        â””â”€â”€ Dropdown: Change Password
```

**Specifications:**
- Height: 56px (compact)
- Sticky: Yes (fixed to top)
- Background: `--color-bg-secondary` with subtle border
- Active link: Accent color underline
- Username dropdown: "Change Password" option

### 2.2 Top Navbar (Client)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Logo] Netcup API Filter â”‚ Dashboard â”‚ Domains â”‚ Activity â”‚                â”‚ client_id â–¼ â”‚ Logout â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                         â””â”€â”€ Dropdown: Account Settings
```

### 2.3 Page Layout Structure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         NAVBAR                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                â”‚
â”‚  â”Œâ”€ Page Header â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ H1 Title                            [Action Buttons]   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€ Main Content â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                        â”‚   â”‚
â”‚  â”‚  Desktop: 2-3 column grid (content + sidebar)          â”‚   â”‚
â”‚  â”‚  Mobile: Single column stack                           â”‚   â”‚
â”‚  â”‚                                                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€ Footer â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Build: v1.0.0 | Â© 2025                                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. Admin Portal Pages

### 3.1 Login Page (`/admin/login`)

**Current:** âœ… Acceptable baseline  
**Improvements:**
- Center form vertically
- Add subtle background gradient animation
- Show last login attempt info (if failed)

---

### 3.2 Change Password Page (`/admin/change-password`)

**Route:** `/admin/change-password`  
**Access:** Authenticated admin only  
**Redirect:** After initial password change â†’ Logout â†’ Login page with success message

**Layout:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Change Password                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                     â”‚
â”‚  Current Password: [__________________] ğŸ‘          â”‚
â”‚  New Password:     [__________________] ğŸ‘          â”‚
â”‚  Confirm Password: [__________________] ğŸ‘          â”‚
â”‚                                                     â”‚
â”‚  Password Requirements:                             â”‚
â”‚  âœ“ At least 12 characters                          â”‚
â”‚  âœ“ Mix of upper/lowercase                          â”‚
â”‚  âœ“ At least one number                             â”‚
â”‚                                                     â”‚
â”‚           [Change Password]                         â”‚
â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Behavior:**
- On success: Flash message, logout, redirect to login
- On initial change (password = default): Force change, no skip option

---

### 3.3 Dashboard Page (`/admin/`)

**Layout:**
```
â”Œâ”€ Statistics Cards â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚ â”‚ 12       â”‚ â”‚ 8        â”‚ â”‚ 156      â”‚ â”‚ 3        â”‚          â”‚
â”‚ â”‚ Clients  â”‚ â”‚ Active   â”‚ â”‚ Requests â”‚ â”‚ Errors   â”‚          â”‚
â”‚ â”‚ Total    â”‚ â”‚ Today    â”‚ â”‚ (24h)    â”‚ â”‚ (24h)    â”‚          â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ Quick Actions â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [+ New Client]  [View Audit Logs]  [Test Netcup API]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ Recent Activity â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ client_ddns updated A record for home.example.com (2m ago)  â”‚
â”‚ â€¢ client_cert created TXT record for _acme.example.com (5m)   â”‚
â”‚ â€¢ SECURITY: Failed auth from 192.168.1.100 (15m ago)          â”‚
â”‚                                        [View All Logs â†’]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 3.4 Clients List Page (`/admin/client/`)

**Features:**
1. **Bulk Actions Bar** (when items selected):
   - Bulk Enable/Disable
   - Bulk Delete (with confirmation modal)

2. **Table Features:**
   - Client-side real-time filter (List.js) with info tooltip
   - Server-side search with pagination (50 items/page)
   - Sortable columns

3. **Row Actions:**
   - Edit (pencil icon)
   - View Logs (filter audit by client)
   - Delete (trash icon)
   - Copy Realm Value (clipboard icon)

**Table Columns:**
| Column | Width | Features |
|--------|-------|----------|
| â˜ (checkbox) | 40px | Bulk select |
| Status | 60px | Active/Inactive badge |
| Client ID | 180px | Monospace, link to edit |
| Realm | 200px | Type badge + value + copy icon |
| Record Types | 150px | Badges (A, AAAA, TXT, etc.) |
| Operations | 120px | Badges (R, C, U, D) |
| Last Used | 120px | Relative time |
| Actions | 100px | Edit, Logs, Delete icons |

**Layout:**
```
â”Œâ”€ Page Header â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Clients                              [+ Create Client]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ Bulk Actions (shown when selected) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3 selected: [Enable] [Disable] [Delete]         [Clear]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ Search & Filter â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ğŸ” Quick filter...] â“˜ Client-side only                       â”‚
â”‚ [Server Search: ________] [Status: All â–¼] [Search]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ Table â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â˜ â”‚ Status â”‚ Client ID      â”‚ Realm           â”‚ Types â”‚ ...   â”‚
â”œâ”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â˜ â”‚ ğŸŸ¢     â”‚ `client_ddns`  â”‚ ğŸ  home.ex.com â”‚ A,AAAAâ”‚ R,U   â”‚
â”‚ â˜ â”‚ ğŸŸ¢     â”‚ `client_cert`  â”‚ ğŸ”’ _acme.ex.comâ”‚ TXT   â”‚ R,C,D â”‚
â”‚ â˜ â”‚ ğŸ”´     â”‚ `client_old`   â”‚ ğŸŒ *.dyn.ex.comâ”‚ A     â”‚ R     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ Pagination â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Showing 1-50 of 156       [â—€ Prev] [1] [2] [3] [4] [Next â–¶]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 3.5 Client Create Page (`/admin/client/new/`)

**Two-Step Wizard:**

#### Step 1: Template Selection (Visual Cards)

```
â”Œâ”€ Select Configuration Template â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚      ğŸ         â”‚  â”‚      ğŸŒ        â”‚  â”‚      ğŸ‘ï¸        â”‚  â”‚
â”‚  â”‚ DDNS Single    â”‚  â”‚ DDNS Subdomain â”‚  â”‚ Read-Only      â”‚  â”‚
â”‚  â”‚ Host           â”‚  â”‚ Delegation     â”‚  â”‚ Monitoring     â”‚  â”‚
â”‚  â”‚                â”‚  â”‚                â”‚  â”‚                â”‚  â”‚
â”‚  â”‚ A, AAAA        â”‚  â”‚ A, AAAA, CNAME â”‚  â”‚ All types      â”‚  â”‚
â”‚  â”‚ read, update   â”‚  â”‚ full control   â”‚  â”‚ read only      â”‚  â”‚
â”‚  â”‚                â”‚  â”‚                â”‚  â”‚                â”‚  â”‚
â”‚  â”‚ [Select]       â”‚  â”‚ [Select]       â”‚  â”‚ [Select]       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚      ğŸ”’        â”‚  â”‚      âš™ï¸        â”‚  â”‚      ğŸ”—        â”‚  â”‚
â”‚  â”‚ LetsEncrypt    â”‚  â”‚ Full DNS       â”‚  â”‚ CNAME          â”‚  â”‚
â”‚  â”‚ DNS-01         â”‚  â”‚ Management     â”‚  â”‚ Delegation     â”‚  â”‚
â”‚  â”‚                â”‚  â”‚                â”‚  â”‚                â”‚  â”‚
â”‚  â”‚ TXT only       â”‚  â”‚ All types      â”‚  â”‚ CNAME only     â”‚  â”‚
â”‚  â”‚ read, C, D     â”‚  â”‚ full control   â”‚  â”‚ full control   â”‚  â”‚
â”‚  â”‚                â”‚  â”‚                â”‚  â”‚                â”‚  â”‚
â”‚  â”‚ [Select]       â”‚  â”‚ [Select]       â”‚  â”‚ [Select]       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                               â”‚
â”‚              [Skip Template - Custom Configuration]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Template Card Details:**
- Icon (emoji)
- Name
- Short description
- Record types (badges)
- Operations (badges)
- Use cases (hover tooltip or expand)
- Example realm value

#### Step 2: Client Details Form

```
â”Œâ”€ Main Form (2/3 width) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                â”‚
â”‚  â”Œâ”€ Card Header â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€ Active â˜‘ â”€â”€â”  â”‚
â”‚  â”‚ Client Details                            â”‚              â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  Client ID *        [Generate ID]                        â”‚  â”‚
â”‚  â”‚  `[________________________]` (monospace)                â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  Description                                             â”‚  â”‚
â”‚  â”‚  [__________________________________________________]    â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  â”€â”€â”€ Realm Configuration â”€â”€â”€                             â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  Realm Type *       [Host â–¼]                             â”‚  â”‚
â”‚  â”‚  Realm Value *      `[example.com________]` (monospace)  â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  â”€â”€â”€ Permissions â”€â”€â”€                                     â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  Allowed Record Types *                                  â”‚  â”‚
â”‚  â”‚  [A] [AAAA] [CNAME] [TXT] [MX] [NS] [SRV]  (compact)     â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  Allowed Operations *                                    â”‚  â”‚
â”‚  â”‚  [Read] [Create] [Update] [Delete]  (compact)            â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  â”€â”€â”€ Security â”€â”€â”€                                        â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  Allowed IP Ranges (one per line)                        â”‚  â”‚
â”‚  â”‚  `[192.168.1.0/24_______________]` (monospace, textarea) â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  Token Expires                                           â”‚  â”‚
â”‚  â”‚  [ğŸ“… ________________________]                           â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  â”€â”€â”€ Notifications â”€â”€â”€                                   â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  Email Address      `[admin@example.com]` (monospace)    â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  Notification Events:                                    â”‚  â”‚
â”‚  â”‚  â˜ Token expired                                         â”‚  â”‚
â”‚  â”‚  â˜ Failed login attempt                                  â”‚  â”‚
â”‚  â”‚  â˜ Successful login                                      â”‚  â”‚
â”‚  â”‚  â˜ Access from non-whitelisted IP                        â”‚  â”‚
â”‚  â”‚  â˜ Unauthorized API call (wrong permissions)             â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                â”‚
â”‚  [Save & Generate Token]  [Cancel]                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ Sidebar (1/3 width) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”Œâ”€ Information â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Selected Template: ğŸ  DDNS Single Host                    â”‚ â”‚
â”‚ â”‚                                                           â”‚ â”‚
â”‚ â”‚ Use Cases:                                                â”‚ â”‚
â”‚ â”‚ â€¢ Home network with dynamic IP                            â”‚ â”‚
â”‚ â”‚ â€¢ VPN server with changing IP                             â”‚ â”‚
â”‚ â”‚ â€¢ Single server DDNS                                      â”‚ â”‚
â”‚ â”‚                                                           â”‚ â”‚
â”‚ â”‚ Example realm: home.example.com                           â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                â”‚
â”‚ â”Œâ”€ Security Notice â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ âš ï¸ The token will only be shown once after creation.      â”‚ â”‚
â”‚ â”‚ Store it securely!                                        â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Form Validation (Real-time):**
- Client ID: alphanumeric + underscore, unique check
- Realm Value: domain syntax validation
- IP Ranges: CIDR notation validation
- Email: standard email format

---

### 3.6 Client Created Success Page (`/admin/client/<id>/created`)

**Dedicated success page after client creation (one-time view):**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    âœ… Client Created Successfully               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Client ID:    `client_ddns_home`                    [ğŸ“‹ Copy] â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€ Authentication Token â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                                                            â”‚â”‚
â”‚  â”‚  âš ï¸ IMPORTANT: This token will NOT be shown again!        â”‚â”‚
â”‚  â”‚                                                            â”‚â”‚
â”‚  â”‚  `abc123def456ghi789jkl012mno345pqr678`          [ğŸ“‹ Copy] â”‚â”‚
â”‚  â”‚                                                            â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                 â”‚
â”‚  â”€â”€â”€ Quick Start â”€â”€â”€                                            â”‚
â”‚                                                                 â”‚
â”‚  Example API call to read DNS records:                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ curl -X POST https://naf.example.com/api \                 â”‚â”‚
â”‚  â”‚   -H "Authorization: Bearer client_ddns:abc123..." \       â”‚â”‚
â”‚  â”‚   -H "Content-Type: application/json" \                    â”‚â”‚
â”‚  â”‚   -d '{"action":"infoDnsRecords",                          â”‚â”‚
â”‚  â”‚        "param":{"domainname":"home.example.com"}}'         â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                       [ğŸ“‹ Copy] â”‚
â”‚                                                                 â”‚
â”‚  [View Client Details]  [Create Another Client]  [Back to List] â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Note:** This curl example with copy button is also integrated on client-side pages for easy API usage reference.

---

### 3.7 Audit Logs Page (`/admin/auditlog/`)

**Features:**
1. **Filters:**
   - Time range: Last Hour / 24h / 7 days / 30 days / Custom
   - Status: All / Success / Failure
   - Client: Dropdown (All + each client)
   - Action type: infoDnsRecords, updateDnsRecords, etc.

2. **Data Management:**
   - Trim logs: Delete older than X days
   - Clear all logs (with confirmation)
   - Export to ODS

3. **Auto-Update:**
   - Toggle slider: "Auto-refresh every 2s"
   - Only table content refreshes (AJAX)

4. **Expandable Rows:**
   - Click row to expand details
   - Show full request/response JSON

**Layout:**
```
â”Œâ”€ Page Header â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Audit Logs                    [Export ODS â–¼] [Trim...] [Clear]â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ Filters â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Time: [Last 24h â–¼]  Status: [All â–¼]  Client: [All â–¼]          â”‚
â”‚ Action: [All â–¼]  [ğŸ” Search...]                    [Apply]    â”‚
â”‚                                                               â”‚
â”‚ Auto-refresh: [â•â•â•â—‹â”€â”€â”€] Off                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ Table â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Timestamp         â”‚ Client      â”‚ Action          â”‚ Status    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚â–¶ 2025-11-30 14:32â”‚ client_ddns â”‚ updateDnsRecordsâ”‚ âœ… Successâ”‚
â”‚  â””â”€ Details: {"hostname":"home.example.com","ip":"1.2.3.4"}  â”‚
â”‚â–¶ 2025-11-30 14:30â”‚ client_cert â”‚ infoDnsRecords  â”‚ âœ… Successâ”‚
â”‚â–¶ 2025-11-30 14:28â”‚ unknown     â”‚ login           â”‚ âŒ Failed â”‚
â”‚  â””â”€ IP: 192.168.1.100, Reason: Invalid token                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ Pagination â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Showing 1-50 of 1,234        [â—€] [1] [2] [3] ... [25] [â–¶]     â”‚
â”‚ Applied filters: Last 24h                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Trim Logs Modal:**
```
â”Œâ”€ Trim Audit Logs â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                               â”‚
â”‚  Delete logs older than: [30] days                            â”‚
â”‚                                                               â”‚
â”‚  This will delete approximately 5,432 log entries.            â”‚
â”‚                                                               â”‚
â”‚  [Cancel]                                      [Delete Logs]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 3.8 Netcup API Config Page (`/admin/netcup_config/`)

**Current:** âœ… Good baseline (see attached screenshot)

**Improvements:**
- Add "Test Connection" button
- Show connection status indicator
- Password field: show/hide toggle (ğŸ‘)
- Add last successful connection timestamp

**Layout:**
```
â”Œâ”€ Main Form â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ API Credentials                                                â”‚
â”‚                                                                â”‚
â”‚  Customer ID:    [________________________]                    â”‚
â”‚  API Key:        [________________________] ğŸ‘                 â”‚
â”‚  API Password:   [________________________] ğŸ‘                 â”‚
â”‚  API URL:        [https://ccp.netcup.net/...]                  â”‚
â”‚  Timeout (sec):  [30]                                          â”‚
â”‚                                                                â”‚
â”‚  [Save Configuration]  [Test Connection]                       â”‚
â”‚                                                                â”‚
â”‚  Status: âœ… Connected (last tested: 2 min ago)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 3.9 Email Config Page (`/admin/email_config/`)

**Current:** âœ… Good baseline (see attached screenshot)

**Improvements:**
1. Reorder fields (sender email first)
2. Add "Query Autoconfiguration" button
3. Add sender name field
4. Add email template editor
5. Granular notification settings

**Layout:**
```
â”Œâ”€ SMTP Settings â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                â”‚
â”‚  Sender Email:   [admin@example.com_______] [ğŸ” Autoconfig]    â”‚
â”‚  Sender Name:    [Netcup API Filter_______]                    â”‚
â”‚                                                                â”‚
â”‚  SMTP Server:    [smtp.example.com________]                    â”‚
â”‚  SMTP Port:      [465]  (465=SSL, 587=TLS)                     â”‚
â”‚  Username:       [________________________] ğŸ‘                 â”‚
â”‚  Password:       [________________________] ğŸ‘                 â”‚
â”‚  â˜‘ Use SSL/TLS                                                 â”‚
â”‚                                                                â”‚
â”‚  [Save] [Test SMTP Connection]                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ Admin Notifications â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Admin Email:    [security@example.com____]                    â”‚
â”‚                                                                â”‚
â”‚  Notify on:                                                    â”‚
â”‚  â˜‘ Security events (failed logins, IP blocks)                  â”‚
â”‚  â˜‘ Client lockouts                                             â”‚
â”‚  â˜ Token expiration warnings (7 days before)                   â”‚
â”‚  â˜ System errors                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ Email Template â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Subject: [Netcup API Filter: {{ event.type }}]                â”‚
â”‚                                                                â”‚
â”‚  Body: (basic HTML formatting, Thunderbird dark mode compatible)â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ <h2>{{ event.title }}</h2>                               â”‚ â”‚
â”‚  â”‚ <p>{{ event.description }}</p>                           â”‚ â”‚
â”‚  â”‚ <p><strong>Time:</strong> {{ event.timestamp }}</p>      â”‚ â”‚
â”‚  â”‚ <p><strong>Client:</strong> {{ event.client_id }}</p>    â”‚ â”‚
â”‚  â”‚ <p><strong>IP:</strong> {{ event.source_ip }}</p>        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                â”‚
â”‚  Note: Uses basic HTML elements only (h2, p, strong)           â”‚
â”‚  No inline styles or background colors for dark mode compat    â”‚
â”‚                                                                â”‚
â”‚  Available variables: {{ event.type }}, {{ event.title }},     â”‚
â”‚  {{ event.description }}, {{ event.timestamp }},               â”‚
â”‚  {{ event.client_id }}, {{ event.source_ip }},                 â”‚
â”‚  {{ event.details }}                                           â”‚
â”‚                                                                â”‚
â”‚  [Save Template] [Preview] [Reset to Default]                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ Test Email â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Send to:        [test@example.com________]                    â”‚
â”‚                                         [Send Test Email]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 3.10 System Info Page (`/admin/systeminfo/`)

**Layout:**
```
â”Œâ”€ System Health â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚ â”‚ âœ…       â”‚ â”‚ 45ms     â”‚ â”‚ 2.3 MB   â”‚ â”‚ 1,234    â”‚           â”‚
â”‚ â”‚ API OK   â”‚ â”‚ Avg Resp â”‚ â”‚ DB Size  â”‚ â”‚ Clients  â”‚           â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ Build Information â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Version:        1.0.0                                         â”‚
â”‚  Build Date:     2025-11-30T14:00:00Z                          â”‚
â”‚  Git Commit:     abc123def                                     â”‚
â”‚  Python:         3.11.5                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ Dependencies â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Flask:          3.0.0                                         â”‚
â”‚  Flask-Admin:    2.0.2                                         â”‚
â”‚  SQLAlchemy:     2.0.23                                        â”‚
â”‚  ... (collapsible list)                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ Settings â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Session Timeout: [1440] minutes  (default: 1440 = 24h)        â”‚
â”‚  Applies to: Admin & Client sessions                          â”‚
â”‚                                              [Save Settings]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ Actions â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [Restart Application]  [Download Logs]  [Cleanup Database]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. Client Portal Pages

### 4.1 Client Login Page (`/client/login`)

**Similar to admin login but with:**
- Token-based authentication (client_id:token)
- Or separate Client ID + Token fields

---

### 4.2 Client Dashboard (`/client/dashboard`)

```
â”Œâ”€ Welcome â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Welcome, `client_ddns_home`                                   â”‚
â”‚  Realm: ğŸ  home.example.com (Host)                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ Quick Stats â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚ â”‚ 42       â”‚ â”‚ 40       â”‚ â”‚ 2        â”‚ â”‚ 5m ago   â”‚           â”‚
â”‚ â”‚ Requests â”‚ â”‚ Success  â”‚ â”‚ Failed   â”‚ â”‚ Last Req â”‚           â”‚
â”‚ â”‚ (today)  â”‚ â”‚          â”‚ â”‚          â”‚ â”‚          â”‚           â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ Permissions â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Record Types: [A] [AAAA]                                      â”‚
â”‚  Operations:   [Read] [Update]                                 â”‚
â”‚  IP Whitelist: Any (not restricted)                            â”‚
â”‚  Token Expires: Never                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ Recent Activity â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â— 14:32 - Updated A record for home.example.com               â”‚
â”‚  â— 14:30 - Read DNS records                                    â”‚
â”‚  â— 14:25 - Updated AAAA record for home.example.com            â”‚
â”‚                                             [View All â†’]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ Quick Actions â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [Manage DNS Records]  [View Activity Log]  [Account Settings] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 4.3 Client Account Page (`/client/account`) - NEW

**Route:** `/client/account`  
**Access:** Via username dropdown in navbar

```
â”Œâ”€ Account Information â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                â”‚
â”‚  Client ID:      `client_ddns_home`                            â”‚
â”‚  Created:        2025-11-15                                    â”‚
â”‚  Last Login:     2025-11-30 14:30                              â”‚
â”‚  Email:          admin@example.com                             â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ Notification Preferences â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                â”‚
â”‚  â˜‘ Token expired                                               â”‚
â”‚  â˜‘ Failed login attempt                                        â”‚
â”‚  â˜ Successful login                                            â”‚
â”‚  â˜‘ Access from non-whitelisted IP                              â”‚
â”‚  â˜‘ Unauthorized API call                                       â”‚
â”‚                                                                â”‚
â”‚                                              [Save Preferences]â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ Token Management â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                â”‚
â”‚  âš ï¸ Regenerating your token will invalidate the current one!   â”‚
â”‚                                                                â”‚
â”‚  [Regenerate Token]                                            â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ Delete Account â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                â”‚
â”‚  âš ï¸ This action cannot be undone!                              â”‚
â”‚                                                                â”‚
â”‚  [Delete My Account]                                           â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 4.4 Client Activity Page (`/client/activity`)

**Features:**
- Timeline view (vertical)
- Filter by date range
- Export to ODS
- IP info button (GeoIP lookup)

```
â”Œâ”€ Filters â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Date: [Last 7 days â–¼]  [Export ODS]                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ Activity Timeline â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                â”‚
â”‚  â— 14:32 - Nov 30, 2025                                        â”‚
â”‚  â”‚ updateDnsRecords âœ…                                         â”‚
â”‚  â”‚ Updated A record: home.example.com â†’ 1.2.3.4                â”‚
â”‚  â”‚ IP: 203.0.113.50 [ğŸŒ Info]                                  â”‚
â”‚  â”‚                                                             â”‚
â”‚  â— 14:30 - Nov 30, 2025                                        â”‚
â”‚  â”‚ infoDnsRecords âœ…                                           â”‚
â”‚  â”‚ Read 3 records for home.example.com                         â”‚
â”‚  â”‚ IP: 203.0.113.50 [ğŸŒ Info]                                  â”‚
â”‚  â”‚                                                             â”‚
â”‚  â— 14:25 - Nov 30, 2025                                        â”‚
â”‚  â”‚ updateDnsRecords âŒ DENIED                                  â”‚
â”‚  â”‚ Attempted to modify TXT record (not permitted)              â”‚
â”‚  â”‚ IP: 203.0.113.50 [ğŸŒ Info]                                  â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**IP Info Modal (GeoIP):**
```
â”Œâ”€ IP Information â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                â”‚
â”‚  IP Address:     203.0.113.50                                  â”‚
â”‚  Type:           Public IPv4                                   â”‚
â”‚  Location:       Berlin, Germany ğŸ‡©ğŸ‡ª                           â”‚
â”‚  ISP:            Deutsche Telekom AG                           â”‚
â”‚  Organization:   T-Mobile                                      â”‚
â”‚                                                                â”‚
â”‚  Data provided by MaxMind GeoIP                                â”‚
â”‚                                                         [Close]â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 4.5 Client DNS Records Page (`/client/domains/<domain>`)

**Features:**
- List all records for domain
- Quick "Update to My IP" action for A/AAAA records
- Create/Edit/Delete based on permissions

```
â”Œâ”€ DNS Records for home.example.com â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                        [+ Add Record] (if perm)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ Your Current IP â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Detected: 203.0.113.50 (Public IPv4)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ Records â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                â”‚
â”‚  A Record                                                      â”‚
â”‚  â”œâ”€ Host: home.example.com                                     â”‚
â”‚  â”œâ”€ Value: 192.168.1.100                                       â”‚
â”‚  â”œâ”€ TTL: 300                                                   â”‚
â”‚  â””â”€ Actions: [Update to My IP] [Edit] [Delete]                 â”‚
â”‚                                                                â”‚
â”‚  AAAA Record                                                   â”‚
â”‚  â”œâ”€ Host: home.example.com                                     â”‚
â”‚  â”œâ”€ Value: 2001:db8::1                                         â”‚
â”‚  â”œâ”€ TTL: 300                                                   â”‚
â”‚  â””â”€ Actions: [Update to My IP] [Edit] [Delete]                 â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 4.6 Client Record Create/Edit Page

**Features:**
- "Fill with My IP" button for A/AAAA records
- Two options: Public IP (always available) + Local IP (greyed out if unavailable)
- Real-time validation

```
â”Œâ”€ Create A Record â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                â”‚
â”‚  Record Type:    A                                             â”‚
â”‚  Hostname:       [home.example.com_____]                       â”‚
â”‚  Value (IP):     [___________________] [My Public IP] [My Local IP]â”‚
â”‚  TTL:            [300]                                         â”‚
â”‚                                                                â”‚
â”‚  Detected IPs:                                                 â”‚
â”‚  â€¢ Public: 203.0.113.50 (always available from server)         â”‚
â”‚  â€¢ Local: 192.168.1.100 (greyed out if unavailable)            â”‚
â”‚                                                                â”‚
â”‚  [Save Record]  [Cancel]                                       â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**IP Detection Behavior:**
- **Public IP:** Always available (server-side detection via `request.remote_addr`)
- **Local IP:** Detected via WebRTC if browser supports; button disabled/greyed if unavailable

---

## 5. Shared Components

### 5.1 Tables

**All tables include:**
- Client-side filter (List.js) with tooltip: "â“˜ Filters visible rows only"
- Server-side search for full dataset
- Sortable columns (click header)
- Pagination (50 items/page)
- Responsive: horizontal scroll on mobile

### 5.2 Status Badges

| Status | Color | Icon |
|--------|-------|------|
| Active | Green | ğŸŸ¢ |
| Inactive | Red | ğŸ”´ |
| Pending | Yellow | ğŸŸ¡ |
| Success | Green | âœ… |
| Failed | Red | âŒ |
| Warning | Amber | âš ï¸ |

### 5.3 Buttons

| Type | Use Case | Style |
|------|----------|-------|
| Primary | Main action | Blue, solid |
| Secondary | Secondary action | Gray, solid |
| Outline | Tertiary | Border only |
| Danger | Delete, destructive | Red |
| Success | Save, confirm | Green |

### 5.4 Form Elements

- **Text inputs:** Dark bg, subtle border, focus glow
- **Selects:** Custom styled dropdowns
- **Multiselect:** Compact checkbox/tag style
- **Checkboxes:** Toggle switches for boolean
- **Textareas:** Resizable, monospace option

### 5.5 Modals

- Centered, overlay backdrop
- Max-width: 500px for forms, 800px for details
- Close on Escape, click outside

### 5.6 Toast Notifications

- Position: Top-right
- Auto-dismiss: 5s for success, persist for errors
- Types: Success, Error, Warning, Info

---

## 6. API Endpoints Required

### 6.1 New Endpoints

| Method | Endpoint | Purpose |
|--------|----------|---------|
| GET | `/admin/api/clients/search` | Server-side client search with pagination |
| POST | `/admin/api/clients/bulk` | Bulk enable/disable/delete |
| POST | `/admin/api/audit/trim` | Delete logs older than X days |
| DELETE | `/admin/api/audit/clear` | Delete all logs |
| GET | `/admin/api/audit/export` | Export logs to ODS |
| POST | `/admin/api/email/test-smtp` | Test SMTP connection |
| POST | `/admin/api/email/autoconfig` | Query email autoconfiguration |
| GET | `/admin/api/system/restart` | Touch restart file |
| GET | `/admin/api/system/logs` | Download application logs |
| GET | `/api/geoip/<ip>` | GeoIP lookup |
| GET | `/api/myip` | Return client's public IP |
| GET | `/client/api/activity/export` | Export client's activity to ODS |
| POST | `/client/api/token/regenerate` | Regenerate client token |
| DELETE | `/client/api/account` | Delete client account |

### 6.2 Modified Endpoints

| Endpoint | Changes |
|----------|---------|
| `/admin/client/new` | Template selection step, notification checkboxes |
| `/admin/client/<id>/edit` | Notification checkboxes editable |
| `/admin/auditlog/` | Pagination, filters, AJAX refresh |

---

## 7. Database Schema Additions

### 7.1 Client Table Extensions

```sql
ALTER TABLE client ADD COLUMN notify_token_expired BOOLEAN DEFAULT FALSE;
ALTER TABLE client ADD COLUMN notify_failed_login BOOLEAN DEFAULT FALSE;
ALTER TABLE client ADD COLUMN notify_successful_login BOOLEAN DEFAULT FALSE;
ALTER TABLE client ADD COLUMN notify_ip_blocked BOOLEAN DEFAULT FALSE;
ALTER TABLE client ADD COLUMN notify_unauthorized BOOLEAN DEFAULT FALSE;
```

### 7.2 Settings Table (New)

```sql
CREATE TABLE settings (
    id INTEGER PRIMARY KEY,
    key VARCHAR(100) UNIQUE NOT NULL,
    value TEXT,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Initial settings
INSERT INTO settings (key, value) VALUES
    ('session_timeout_minutes', '1440'),
    ('email_template_subject', 'Netcup API Filter: {{ event.type }}'),
    ('email_template_body', '<h2>{{ event.title }}</h2>...'),
    ('maxmind_license_key', '');  -- From .env.defaults
```

---

## 8. Third-Party Integrations

### 8.1 MaxMind GeoIP

**Documentation:**
- https://dev.maxmind.com/geoip/geolocate-an-ip/web-services/
- https://dev.maxmind.com/geoip/docs/web-services/requests/
- https://dev.maxmind.com/geoip/docs/web-services/responses/

**Configuration:**
```
# .env.defaults
MAXMIND_LICENSE_KEY=your_license_key_here
MAXMIND_ACCOUNT_ID=your_account_id
```

**Usage:**
- Web Services API (not downloadable database)
- Called on-demand when user clicks "IP Info" button
- Cache responses for 24 hours to minimize API calls

### 8.2 ODS Export

**Library:** `odfpy`

ODF Python library for reading and writing OpenDocument files (ODS spreadsheets).
Simple implementation for exporting tabular data to ODS format.

**Add to requirements.webhosting.txt:**
```
odfpy>=1.4.1
```

---

## 9. Implementation Phases

### Phase 1: Design System & Core Layout (Week 1)

- [ ] Refactor CSS variables and base styles
- [ ] Implement new navbar component
- [ ] Create shared component library (buttons, forms, tables)
- [ ] Update base templates

### Phase 2: Admin Pages - Core (Week 2)

- [ ] Dashboard with stats
- [ ] Clients list with bulk actions
- [ ] Client create wizard with templates
- [ ] Client created success page
- [ ] Change password page

### Phase 3: Admin Pages - Config & Logs (Week 3)

- [ ] Audit logs with filters, pagination, auto-refresh
- [ ] ODS export functionality
- [ ] Email config with template editor
- [ ] System info with settings

### Phase 4: Client Portal (Week 4)

- [ ] Client dashboard
- [ ] Account settings page (new)
- [ ] Activity page with timeline
- [ ] DNS record management with "Update to My IP"

### Phase 5: Advanced Features (Week 5)

- [ ] MaxMind GeoIP integration
- [ ] Email autoconfiguration
- [ ] Notification event system
- [ ] Server-side search with pagination

### Phase 6: Polish & Testing (Week 6)

- [ ] Mobile responsiveness testing
- [ ] Accessibility review
- [ ] Update UI regression test baselines
- [ ] Performance optimization

---

## Appendix A: Template Definitions

(Kept from existing `client_templates.py`)

| ID | Name | Icon | Realm | Records | Operations | Use Case |
|----|------|------|-------|---------|------------|----------|
| ddns_single_host | DDNS Single Host | ğŸ  | host | A, AAAA | read, update | Home DDNS |
| ddns_subdomain_zone | DDNS Subdomain | ğŸŒ | subdomain | A, AAAA, CNAME | full | Fleet DDNS |
| monitoring_readonly | Read-Only | ğŸ‘ï¸ | host | all | read | Monitoring |
| letsencrypt_dns01 | LetsEncrypt | ğŸ”’ | subdomain | TXT | read, create, delete | Certs |
| full_management | Full Management | âš™ï¸ | host | all | full | Automation |
| cname_only | CNAME Delegation | ğŸ”— | subdomain | CNAME | full | CDN |

---

## Appendix B: Notification Events

| Event | Description | Default |
|-------|-------------|---------|
| token_expired | Token expiration | Admin only |
| failed_login | Failed authentication attempt | On |
| successful_login | Successful login | Off |
| ip_blocked | Access from non-whitelisted IP | On |
| unauthorized_call | API call denied due to permissions | On |

---

*End of UI Requirements Specification*
